<div
class="flex h-screen bg-gray-50 dark:bg-gray-900"
:class="{ 'overflow-hidden': isSideMenuOpen }"
>      
<div class="flex flex-col flex-1 w-full">
  <main class="h-full overflow-y-auto">
    <div class="container flex flex-col mx-auto items-center" style="margin-bottom: 4vw; padding: 0 3vw;">
      <h2
        class="my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"
      >
        <%= heading %>
      </h2>
      <!-- CTA -->
      <a
        class="flex items-center justify-between w-full p-4 mb-8 text-sm font-semibold text-purple-100 bg-purple-600 rounded-lg shadow-md focus:outline-none focus:shadow-outline-purple"
        href="https://github.com/ShadowSlayer03/Vehicle-Showroom-Management-System"
      >
        <div class="flex items-center">
          <svg
            class="w-5 h-5 mr-2"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
            ></path>
          </svg>
          <span>Star this project on GitHub</span>
        </div>
        <span>View more &RightArrow;</span>
      </a>
      <h4
      class="underline mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300"
    >
      Enter Customer Details:
    </h4>
    <div class="w-full h-fit bg-gray-700 shadow-lg">
      <form action="/add-sale" method="POST" id="myForm">
      <div class="w-[100%] px-10 py-3 bg-white rounded-lg shadow-xl dark:bg-gray-800" style="padding: 2vw;">
        <div class="w-full flex" style="gap: 5vw;">
          <label class="block text-sm" style="width: 50%;">
            <span class="text-gray-700 dark:text-gray-400">Customer ID</span>
            <% if(custValues && CustomerID){ %>
                <select name="CustomerID" class="block w-full mt-1 text-sm dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 form-multiselect focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray">
                    <option value="" disabled>Select a Customer</option>
                    <% for (let i = 0; i < custValues.length; i++) { %>
                        <option value="<%= custValues[i].CustomerID %>" <% if (custValues[i].CustomerID === CustomerID) { %> selected <% } %>><%= custValues[i].CustomerID %></option>
                    <% } %>
                </select>                
            <% }else{ %>
                <select name="CustomerID" class="block w-full mt-1 text-sm dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 form-multiselect focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray">
                    <option value="" selected disabled>Select a Customer</option>
                    <% for (let i = 0; i < custValues.length; i++) { %>
                        <option value="<%= custValues[i].CustomerID %>"><%= custValues[i].CustomerID %></option>
                    <% } %>
                </select>
            <% } %>    
          </label>
          <label class="block text-sm" style="width: 50%;">
            <span class="text-gray-700 dark:text-gray-400">Vehicle ID</span>
            <% if(vehicleValues && VehicleID){ %>
                <select name="VehicleID" class="block w-full mt-1 text-sm dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 form-multiselect focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray">
                    <option value="" disabled>Select a Vehicle</option>
                    <% for (let i = 0; i < vehicleValues.length; i++) { %>
                        <option value="<%= vehicleValues[i].VehicleID %>" <% if (vehicleValues[i].VehicleID === VehicleID) { %> selected <% } %>><%= vehicleValues[i].VehicleID %></option>
                    <% } %>
                </select>
                
            <% } else{ %>
                <select name="VehicleID" class="block w-full mt-1 text-sm dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 form-multiselect focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray">
                    <option value="" selected disabled>Select a Vehicle</option>
                    <% for (let i = 0; i < vehicleValues.length; i++) { %>
                        <option value="<%= vehicleValues[i].VehicleID %>"><%= vehicleValues[i].VehicleID %></option>
                    <% } %>
                </select>
            <% } %>    
          </label>
        </div>


        <div class="w-full flex mt-4" style="gap: 5vw; margin-top: 3vw;">
          <label class="block text-sm" style="width: 50%;">
            <span class="text-gray-700 dark:text-gray-400">Sale ID</span>
            <input class="block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input" placeholder="<%= SaleID%>" readonly>
          </label>
          <label class="block text-sm" style="width: 50%;">
            <span class="text-gray-700 dark:text-gray-400">Employee ID</span>
            <% if(empValues && EmployeeID){ %>
                <select name="EmployeeID" class="block w-full mt-1 text-sm dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 form-multiselect focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray">
                    <option value="" disabled>Select an Employee</option>
                    <% for (let i = 0; i < empValues.length; i++) { %>
                        <option value="<%= empValues[i].EmployeeID %>" <% if (empValues[i].EmployeeID === EmployeeID) { %> selected <% } %>><%= empValues[i].EmployeeID %></option>
                    <% } %>
                </select>                
            <% } else{ %>
                <select name="EmployeeID" class="block w-full mt-1 text-sm dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 form-multiselect focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray">
                    <option value="" selected disabled>Select an Employee</option>
                    <% for (let i = 0; i < empValues.length; i++) { %>
                        <option value="<%= empValues[i].EmployeeID %>"><%= empValues[i].EmployeeID %></option>
                    <% } %>
                </select>
            <% } %>
          </label>
        </div>  


        <div class="w-full flex" style="gap: 5vw; margin-top: 3vw;">
            <label class="block text-sm" style="width: 50%;">
              <span class="text-gray-700 dark:text-gray-400">Sale Date</span>
              <% if(SaleDate){ %>
              <input name="SaleDate" id="dateInput" type="date" class="block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input">
              <% } else{ %>
                <input name="SaleDate" id="dateInput" type="date" class="block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input">
              <% } %>  
            </label>
            <label class="block text-sm" style="width: 50%;">
              <span class="text-gray-700 dark:text-gray-400">Sale Amount</span>
              <% if(SaleAmount){ %>
                <input name="SaleAmount" class="block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input" value="<%= SaleAmount%>">
              <% } else{ %>
                  <input name="SaleAmount" class="block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input">
              <% } %>
            </label>
          </div>

      </div>
    </div>
      <button id="submit-button" type="submit" class="block px-4 py-2 mt-4 text-sm font-medium leading-5 text-center text-white transition-colors duration-150 bg-purple-600 border border-transparent rounded-lg active:bg-purple-600 hover:bg-purple-700 focus:outline-none focus:shadow-outline-purple" style="width: 20%;">
      Submit
      </button>
      </form>
    </div>
  </main>
</div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const dateInput = document.getElementById('dateInput');
        if (dateInput) {
            const saleDate = '<%= SaleDate %>';
            const dateObject = new Date(saleDate);
            const year = dateObject.getFullYear();
            const month = String(dateObject.getMonth() + 1).padStart(2, '0');
            const day = String(dateObject.getDate()).padStart(2, '0');
            const formattedDate = `${year}-${month}-${day}`;
            if (saleDate) {
                dateInput.value = formattedDate;
            }
        }
    });
</script>

